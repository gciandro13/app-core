{
  "$schema": "../../src/modules/json-schema.json#",
  "__$schema": "https://raw.githubusercontent.com/massimodipaolo/app-core/master/src/modules/json-schema.json",
  "extConfig": {
    "folder": "Extensions",
    "enableShutDownOnChange": false,
    "assemblies": {
      "Ws.Core.Extensions.StaticFiles": {
        "priority": 100,
        "options": {
          "paths": [
            {
              "headers": {
                "Cache-Control": "public,max-age=43200"
              }
            }
          ]
        }
      },
      "Ws.Core.Extensions.Cors": {
        "priority": 200
      },
      "Ws.Core.Extensions.Api": {
        "priority": 300,
        "options": {
          "serialization": {
            "nullValueHandling": "Ignore",
            "formatting": "None",
            "referenceLoopHandling": "Ignore",
            "converters": [
              {
                "assembly": "web",
                "type": "web.Code.LocaleJsonConverter"
              }
            ]
          },
          "documentation": {
            "routePrefix": "swagger",
            "endpoints": [
              {
                "id": "public",
                "title": "public api",
                "version": "v1"
              },
              {
                "id": "admin",
                "title": "admin api",
                "version": "v1"
              }
            ],
            "xmlComments": {
              "fileName": "web.xml",
              "includeControllerComments": true
            }
          }
        }
      },
      "Ws.Core.Extensions.Data.EF": {
        "priority": 399,
        "options": {
          "jsonConvert": [ "web.Code.IJsonConvertible, web" ],
          "mappings": [
            {
              "name": "Page",
              "properties": [
                {
                  "name": "Meta",                  
                  "jsonConvert": true
                }
              ]
            }
          ]
        }
      },
      "Ws.Core.Extensions.Data.EF.SqlServer": {
        "priority": 400,
        "options": {
          "connections": [
            {
              "name": "default",
              "connectionString": "Server=.,14331;Database=Ws-Core;User Id=Ws-Core-Usr;Password=5876ee62-d2a9-4e61-8c3a-88d41f4543e8;MultipleActiveResultSets=true"
            }
          ]
        }
      },
      "Ws.Core.Extensions.Data.FileSystem": {
        "priority": 500,
        "options": {
          "serialization": {
            "converters": [
              {
                "assembly": "web",
                "type": "web.Code.IJsonConvertible"
              }
            ]
          }
        }
      },
      "Ws.Core.Extensions.Data.Cache": {
        "priority": 600,
        "options": {
          "type": "Distributed",
          "redisOptions": {
            "configuration": "",
            "instanceName": "master"
          },
          "sqlOptions": {
            "connectionString": "",
            "schemaName": "dbo",
            "tableName": "Entry"
          },
          "entryExpirationInMinutes": {
            "fast": 10,
            "medium": 60,
            "slow": 240,
            "never": 1440
          }
        }
      },      
      "__Ws.Core.Extensions.Data.Cache.Memcached": {
        "priority": 600,
        "options": {
          "client": {
            "servers": [
              {
                "address": "localhost",
                "port": 11211
              }
            ]
          },
          "entryExpirationInMinutes": {
            "fast": 10,
            "medium": 60,
            "slow": 240,
            "never": 1440
          }
        }
      }
    }
  }
}
